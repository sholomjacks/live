{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Tiny class to simplify dealing with subscription set\n *\n * @export\n * @class SubscriptionSet\n */\n\nclass SubscriptionSet {\n  constructor() {\n    this.set = {\n      subscribe: {},\n      psubscribe: {}\n    };\n  }\n\n  add(set, channel) {\n    this.set[mapSet(set)][channel] = true;\n  }\n\n  del(set, channel) {\n    delete this.set[mapSet(set)][channel];\n  }\n\n  channels(set) {\n    return Object.keys(this.set[mapSet(set)]);\n  }\n\n  isEmpty() {\n    return this.channels(\"subscribe\").length === 0 && this.channels(\"psubscribe\").length === 0;\n  }\n\n}\n\nexports.default = SubscriptionSet;\n\nfunction mapSet(set) {\n  if (set === \"unsubscribe\") {\n    return \"subscribe\";\n  }\n\n  if (set === \"punsubscribe\") {\n    return \"psubscribe\";\n  }\n\n  return set;\n}","map":{"version":3,"sources":["C:/Users/gamem/codecademy/node_modules/ioredis/built/SubscriptionSet.js"],"names":["Object","defineProperty","exports","value","SubscriptionSet","constructor","set","subscribe","psubscribe","add","channel","mapSet","del","channels","keys","isEmpty","length","default"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACA;;;;;;;AAMA,MAAMC,eAAN,CAAsB;AAClBC,EAAAA,WAAW,GAAG;AACV,SAAKC,GAAL,GAAW;AACPC,MAAAA,SAAS,EAAE,EADJ;AAEPC,MAAAA,UAAU,EAAE;AAFL,KAAX;AAIH;;AACDC,EAAAA,GAAG,CAACH,GAAD,EAAMI,OAAN,EAAe;AACd,SAAKJ,GAAL,CAASK,MAAM,CAACL,GAAD,CAAf,EAAsBI,OAAtB,IAAiC,IAAjC;AACH;;AACDE,EAAAA,GAAG,CAACN,GAAD,EAAMI,OAAN,EAAe;AACd,WAAO,KAAKJ,GAAL,CAASK,MAAM,CAACL,GAAD,CAAf,EAAsBI,OAAtB,CAAP;AACH;;AACDG,EAAAA,QAAQ,CAACP,GAAD,EAAM;AACV,WAAON,MAAM,CAACc,IAAP,CAAY,KAAKR,GAAL,CAASK,MAAM,CAACL,GAAD,CAAf,CAAZ,CAAP;AACH;;AACDS,EAAAA,OAAO,GAAG;AACN,WAAQ,KAAKF,QAAL,CAAc,WAAd,EAA2BG,MAA3B,KAAsC,CAAtC,IACJ,KAAKH,QAAL,CAAc,YAAd,EAA4BG,MAA5B,KAAuC,CAD3C;AAEH;;AAnBiB;;AAqBtBd,OAAO,CAACe,OAAR,GAAkBb,eAAlB;;AACA,SAASO,MAAT,CAAgBL,GAAhB,EAAqB;AACjB,MAAIA,GAAG,KAAK,aAAZ,EAA2B;AACvB,WAAO,WAAP;AACH;;AACD,MAAIA,GAAG,KAAK,cAAZ,EAA4B;AACxB,WAAO,YAAP;AACH;;AACD,SAAOA,GAAP;AACH","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Tiny class to simplify dealing with subscription set\n *\n * @export\n * @class SubscriptionSet\n */\nclass SubscriptionSet {\n    constructor() {\n        this.set = {\n            subscribe: {},\n            psubscribe: {}\n        };\n    }\n    add(set, channel) {\n        this.set[mapSet(set)][channel] = true;\n    }\n    del(set, channel) {\n        delete this.set[mapSet(set)][channel];\n    }\n    channels(set) {\n        return Object.keys(this.set[mapSet(set)]);\n    }\n    isEmpty() {\n        return (this.channels(\"subscribe\").length === 0 &&\n            this.channels(\"psubscribe\").length === 0);\n    }\n}\nexports.default = SubscriptionSet;\nfunction mapSet(set) {\n    if (set === \"unsubscribe\") {\n        return \"subscribe\";\n    }\n    if (set === \"punsubscribe\") {\n        return \"psubscribe\";\n    }\n    return set;\n}\n"]},"metadata":{},"sourceType":"script"}