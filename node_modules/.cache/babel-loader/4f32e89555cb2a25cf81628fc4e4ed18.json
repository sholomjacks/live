{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"C:\\\\Users\\\\gamem\\\\codecademy\\\\node_modules\\\\@babel\\\\runtime/helpers/toConsumableArray\");\n\nvar _classCallCheck = require(\"C:\\\\Users\\\\gamem\\\\codecademy\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:\\\\Users\\\\gamem\\\\codecademy\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction isSentinelEql(a, b) {\n  return (a.host || \"127.0.0.1\") === (b.host || \"127.0.0.1\") && (a.port || 26379) === (b.port || 26379);\n}\n\nvar SentinelIterator =\n/*#__PURE__*/\nfunction () {\n  function SentinelIterator(sentinels) {\n    _classCallCheck(this, SentinelIterator);\n\n    this.cursor = 0;\n    this.sentinels = sentinels.slice(0);\n  }\n\n  _createClass(SentinelIterator, [{\n    key: \"next\",\n    value: function next() {\n      var done = this.cursor >= this.sentinels.length;\n      return {\n        done: done,\n        value: done ? undefined : this.sentinels[this.cursor++]\n      };\n    }\n  }, {\n    key: \"reset\",\n    value: function reset(moveCurrentEndpointToFirst) {\n      if (moveCurrentEndpointToFirst && this.sentinels.length > 1 && this.cursor !== 1) {\n        var _this$sentinels;\n\n        (_this$sentinels = this.sentinels).unshift.apply(_this$sentinels, _toConsumableArray(this.sentinels.splice(this.cursor - 1)));\n      }\n\n      this.cursor = 0;\n    }\n  }, {\n    key: \"add\",\n    value: function add(sentinel) {\n      for (var i = 0; i < this.sentinels.length; i++) {\n        if (isSentinelEql(sentinel, this.sentinels[i])) {\n          return false;\n        }\n      }\n\n      this.sentinels.push(sentinel);\n      return true;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(JSON.stringify(this.sentinels), \" @\").concat(this.cursor);\n    }\n  }]);\n\n  return SentinelIterator;\n}();\n\nexports.default = SentinelIterator;","map":{"version":3,"sources":["C:/Users/gamem/codecademy/node_modules/ioredis/built/connectors/SentinelConnector/SentinelIterator.js"],"names":["Object","defineProperty","exports","value","isSentinelEql","a","b","host","port","SentinelIterator","sentinels","cursor","slice","done","length","undefined","moveCurrentEndpointToFirst","unshift","splice","sentinel","i","push","JSON","stringify","default"],"mappings":"AAAA;;;;;;;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,SAASC,aAAT,CAAuBC,CAAvB,EAA0BC,CAA1B,EAA6B;AACzB,SAAQ,CAACD,CAAC,CAACE,IAAF,IAAU,WAAX,OAA6BD,CAAC,CAACC,IAAF,IAAU,WAAvC,KACJ,CAACF,CAAC,CAACG,IAAF,IAAU,KAAX,OAAuBF,CAAC,CAACE,IAAF,IAAU,KAAjC,CADJ;AAEH;;IACKC,gB;;;AACF,4BAAYC,SAAZ,EAAuB;AAAA;;AACnB,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKD,SAAL,GAAiBA,SAAS,CAACE,KAAV,CAAgB,CAAhB,CAAjB;AACH;;;;2BACM;AACH,UAAMC,IAAI,GAAG,KAAKF,MAAL,IAAe,KAAKD,SAAL,CAAeI,MAA3C;AACA,aAAO;AAAED,QAAAA,IAAI,EAAJA,IAAF;AAAQV,QAAAA,KAAK,EAAEU,IAAI,GAAGE,SAAH,GAAe,KAAKL,SAAL,CAAe,KAAKC,MAAL,EAAf;AAAlC,OAAP;AACH;;;0BACKK,0B,EAA4B;AAC9B,UAAIA,0BAA0B,IAC1B,KAAKN,SAAL,CAAeI,MAAf,GAAwB,CADxB,IAEA,KAAKH,MAAL,KAAgB,CAFpB,EAEuB;AAAA;;AACnB,gCAAKD,SAAL,EAAeO,OAAf,2CAA0B,KAAKP,SAAL,CAAeQ,MAAf,CAAsB,KAAKP,MAAL,GAAc,CAApC,CAA1B;AACH;;AACD,WAAKA,MAAL,GAAc,CAAd;AACH;;;wBACGQ,Q,EAAU;AACV,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKV,SAAL,CAAeI,MAAnC,EAA2CM,CAAC,EAA5C,EAAgD;AAC5C,YAAIhB,aAAa,CAACe,QAAD,EAAW,KAAKT,SAAL,CAAeU,CAAf,CAAX,CAAjB,EAAgD;AAC5C,iBAAO,KAAP;AACH;AACJ;;AACD,WAAKV,SAAL,CAAeW,IAAf,CAAoBF,QAApB;AACA,aAAO,IAAP;AACH;;;+BACU;AACP,uBAAUG,IAAI,CAACC,SAAL,CAAe,KAAKb,SAApB,CAAV,eAA6C,KAAKC,MAAlD;AACH;;;;;;AAELT,OAAO,CAACsB,OAAR,GAAkBf,gBAAlB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isSentinelEql(a, b) {\n    return ((a.host || \"127.0.0.1\") === (b.host || \"127.0.0.1\") &&\n        (a.port || 26379) === (b.port || 26379));\n}\nclass SentinelIterator {\n    constructor(sentinels) {\n        this.cursor = 0;\n        this.sentinels = sentinels.slice(0);\n    }\n    next() {\n        const done = this.cursor >= this.sentinels.length;\n        return { done, value: done ? undefined : this.sentinels[this.cursor++] };\n    }\n    reset(moveCurrentEndpointToFirst) {\n        if (moveCurrentEndpointToFirst &&\n            this.sentinels.length > 1 &&\n            this.cursor !== 1) {\n            this.sentinels.unshift(...this.sentinels.splice(this.cursor - 1));\n        }\n        this.cursor = 0;\n    }\n    add(sentinel) {\n        for (let i = 0; i < this.sentinels.length; i++) {\n            if (isSentinelEql(sentinel, this.sentinels[i])) {\n                return false;\n            }\n        }\n        this.sentinels.push(sentinel);\n        return true;\n    }\n    toString() {\n        return `${JSON.stringify(this.sentinels)} @${this.cursor}`;\n    }\n}\nexports.default = SentinelIterator;\n"]},"metadata":{},"sourceType":"script"}