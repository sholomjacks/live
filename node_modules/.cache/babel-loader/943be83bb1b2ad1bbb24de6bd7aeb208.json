{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gamem\\\\codecademy\\\\src\\\\SignIn.js\";\nimport React from 'react';\nimport { compose, lt, length, filter, propEq } from 'ramda';\nimport './style.css';\nimport './submit_button.css';\nimport './form.css';\n\nvar bcrypt = require('bcryptjs');\n\nvar hash; // eslint-disable-next-line\n\nconst {\n  redibase\n} = require('./connect');\n\nconst valid_users = [{\n  username: 'sholom',\n  password: 'jacks'\n}, {\n  username: 'mendel',\n  password: 'hacks'\n}];\nvar t = redibase.get(\"users\");\n\nif (t !== valid_users) {\n  redibase.set(\"users\", valid_users);\n}\n\nvar f = redibase.get(\"users\");\nexport class App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: '',\n      password: '',\n      router: false,\n      view: 'password'\n    };\n\n    this.show = () => {\n      if (this.state.view === 'password') {\n        this.setState({\n          view: 'text'\n        });\n      } else {\n        this.setState({\n          view: 'password'\n        });\n      }\n    };\n\n    this.login = (username, password) => {\n      if (length(username) === 0 || length(password) === 0) return;\n      console.log(\"hi\");\n\n      if (this.is_valid(username, password)) {\n        this.setState({\n          router: true\n        });\n        hash = bcrypt.hashSync(\"bcrypt-connection-secured\");\n        localStorage.setItem(\"hash\", hash);\n        window.location = '/intro';\n      } else {\n        alert(\"The login is incorrect.\");\n      }\n    };\n\n    this.is_valid = (username, password) => compose(lt(0), length, filter(propEq('password', password)), filter(propEq('username', username)))(valid_users);\n  }\n\n  componentDidMount() {\n    let hasht = localStorage.getItem(\"hash\");\n    let decide = bcrypt.compareSync(\"bcrypt-connection-secured\", hasht);\n\n    if (decide === true) {\n      window.location = '/intro';\n    } else {// do nothing\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, f), React.createElement(\"section\", {\n      className: \"overlay\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      id: \"first\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      onChange: e => {\n        this.setState({\n          username: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"label-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Username\")), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: this.state.view,\n      required: true,\n      onChange: e => {\n        this.setState({\n          password: e.target.value\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"label-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Password\")), React.createElement(\"img\", {\n      id: \"fontlc\",\n      src: \"https://cdn2.iconfinder.com/data/icons/flaticons-solid/18/eye-1-512.png\",\n      alt: \"Show Password\",\n      width: \"50\",\n      onClick: this.show,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => this.login(this.state.username, this.state.password),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Submit\"))));\n  }\n\n}\nexport default App;","map":{"version":3,"sources":["C:/Users/gamem/codecademy/src/SignIn.js"],"names":["React","compose","lt","length","filter","propEq","bcrypt","require","hash","redibase","valid_users","username","password","t","get","set","f","App","Component","state","router","view","show","setState","login","console","log","is_valid","hashSync","localStorage","setItem","window","location","alert","componentDidMount","hasht","getItem","decide","compareSync","render","e","target","value"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { compose, lt, length, filter, propEq } from 'ramda'\nimport './style.css'\nimport './submit_button.css'\nimport './form.css'\nvar bcrypt = require('bcryptjs');\nvar hash\n// eslint-disable-next-line\nconst { redibase } = require('./connect')\nconst valid_users = [\n    {\n        username: 'sholom',\n        password: 'jacks'\n    },\n    {\n        username: 'mendel',\n        password: 'hacks'\n    }\n]   \n\nvar t = redibase.get(\"users\")\n\nif (t !== valid_users) {\n    redibase.set(\"users\", valid_users)\n}\n\nvar f = redibase.get(\"users\")\n\nexport class App extends React.Component {\n    state = {\n        username: '',\n        password: '',\n        router: false,\n        view: 'password'\n    }\n\n    componentDidMount() {\n\n        let hasht = localStorage.getItem(\"hash\")\n        let decide = bcrypt.compareSync(\"bcrypt-connection-secured\", hasht)\n        if (decide === true) {\n            window.location = '/intro'\n        } else {\n            // do nothing\n        }\n    }\n\n    show = () => {\n        if (this.state.view === 'password') {\n            this.setState({ view: 'text' })\n        } else {\n            this.setState({ view: 'password' })\n        }\n    }\n\n    login = (username, password) => {\n        if (length(username) === 0 || length(password) === 0) return\n        console.log(\"hi\")\n        if (this.is_valid(username, password)) {\n            this.setState({ router: true })\n            hash = bcrypt.hashSync(\"bcrypt-connection-secured\");\n            localStorage.setItem(\"hash\", hash)\n            window.location = '/intro'\n        } else {\n            alert(\"The login is incorrect.\")\n        }\n    }\n\n    is_valid = (username, password) => compose(\n        lt(0),\n        length,\n        filter(propEq('password', password)),\n        filter(propEq('username', username))\n    )(valid_users)\n\n    render() {\n\n        return (\n            <div>\n                <center>\n        <h1>{f}</h1>\n                    <section className=\"overlay\">\n                        <h1 id=\"first\">Sign In</h1>\n                        <label>\n                            <input type=\"text\" required onChange={(e) => { this.setState({ username: e.target.value }) }} />\n                            <div class=\"label-text\">Username</div>\n                        </label>\n                        <label>\n                            <input type={this.state.view} required onChange={(e) => { this.setState({ password: e.target.value }) }} />\n                            <div class=\"label-text\">Password</div>\n                        </label>\n                        <img id=\"fontlc\" src=\"https://cdn2.iconfinder.com/data/icons/flaticons-solid/18/eye-1-512.png\" alt=\"Show Password\" width=\"50\" onClick={this.show} />\n                        <br />\n                        <button onClick={() => this.login(this.state.username, this.state.password)}>Submit</button>\n                        {/* <a href=\"#\" class=\"animated-button1\" onClick={go}>\n              <span></span>\n              <span></span>\n              <span></span>\n              <span></span>\n              Submit\n                </a> */}\n                    </section>\n                </center>\n            </div>\n        )\n    }\n}\n\nexport default App;\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}