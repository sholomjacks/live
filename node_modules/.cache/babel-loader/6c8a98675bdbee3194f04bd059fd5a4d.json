{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\gamem\\\\codecademy\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\gamem\\\\codecademy\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\gamem\\\\codecademy\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\gamem\\\\codecademy\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\gamem\\\\codecademy\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import{length,lt,filter,propEq,compose}from'ramda';import React from'react';import'./form.css';import'./style.css';import'./submit_button.css';import valid_users from'./validUsers';var bcrypt=require('bcryptjs');var hash;var Cryptr=require(\"cryptr\");var cryptr=new Cryptr('hello');export var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={username:'',password:'',router:false,view:'password'};_this.show=function(){if(_this.state.view==='password'){_this.setState({view:'text'});}else{_this.setState({view:'password'});}};_this.login=function(username,password){if(length(username)===0||length(password)===0)return;if(_this.is_valid(username,password)){_this.setState({router:true});hash=bcrypt.hashSync(\"bcrypt-connection-secured\");localStorage.setItem(\"hash\",hash);window.location='/intro';}else{alert(\"The login is incorrect.\");}};_this.is_valid=function(username,password){return compose(lt(0),length,filter(propEq('password',password)),filter(propEq('username',username)))(valid_users);};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var encrypted_users=cryptr.encrypt(valid_users);localStorage.setItem(\"users\",encrypted_users);var hasht=localStorage.getItem(\"hash\")||'';var decide=bcrypt.compareSync(\"bcrypt-connection-secured\",hasht);if(decide===true){var intro=localStorage.getItem(\"intro\");if(intro!==\"no\"){window.location='/intro';}else{window.location='/home';}}else{// do nothing\n}}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(\"center\",null,React.createElement(\"section\",{className:\"overlay\"},React.createElement(\"h1\",{id:\"first\"},\"Sign In\"),React.createElement(\"label\",null,React.createElement(\"input\",{type:\"text\",required:true,onChange:function onChange(e){_this2.setState({username:e.target.value});}}),React.createElement(\"div\",{class:\"label-text\"},\"Username\")),React.createElement(\"label\",null,React.createElement(\"input\",{type:this.state.view,required:true,onChange:function onChange(e){_this2.setState({password:e.target.value});}}),React.createElement(\"div\",{class:\"label-text\"},\"Password\")),React.createElement(\"img\",{id:\"fontlc\",src:\"https://cdn2.iconfinder.com/data/icons/flaticons-solid/18/eye-1-512.png\",alt:\"Show Password\",width:\"50\",onClick:this.show}),React.createElement(\"br\",null),React.createElement(\"button\",{onClick:function onClick(){return _this2.login(_this2.state.username,_this2.state.password);}},\"Submit\"))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["C:/Users/gamem/codecademy/src/SignIn.js"],"names":["length","lt","filter","propEq","compose","React","valid_users","bcrypt","require","hash","Cryptr","cryptr","App","state","username","password","router","view","show","setState","login","is_valid","hashSync","localStorage","setItem","window","location","alert","encrypted_users","encrypt","hasht","getItem","decide","compareSync","intro","e","target","value","Component"],"mappings":"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","sourcesContent":["import { length, lt, filter, propEq, compose } from 'ramda'\nimport React from 'react'\nimport './form.css'\nimport './style.css'\nimport './submit_button.css'\nimport valid_users from './validUsers'\nvar bcrypt = require('bcryptjs');\nvar hash\nvar Cryptr = require(\"cryptr\")\nvar cryptr = new Cryptr('hello')\n\nexport class App extends React.Component {\n    state = {\n        username: '',\n        password: '',\n        router: false,\n        view: 'password',\n    }\n\n    componentDidMount() {\n        var encrypted_users = cryptr.encrypt(valid_users)\n        localStorage.setItem(\"users\", encrypted_users)\n        let hasht = localStorage.getItem(\"hash\") || ''\n        let decide = bcrypt.compareSync(\"bcrypt-connection-secured\", hasht)\n        if (decide === true) {\n            var intro = localStorage.getItem(\"intro\")\n            if (intro !== \"no\") {\n                window.location = '/intro'\n            } else {\n                window.location = '/home'\n            }\n        } else {\n            // do nothing\n        }\n    }\n\n    show = () => {\n        if (this.state.view === 'password') {\n            this.setState({ view: 'text' })\n        } else {\n            this.setState({ view: 'password' })\n        }\n    }\n\n    login = (username, password) => {\n        if (length(username) === 0 || length(password) === 0) return\n        if (this.is_valid(username, password)) {\n            this.setState({ router: true })\n            hash = bcrypt.hashSync(\"bcrypt-connection-secured\");\n            localStorage.setItem(\"hash\", hash)\n            window.location = '/intro'\n        } else {\n            alert(\"The login is incorrect.\")\n        }\n    }\n\n    is_valid = (username, password) => compose(\n        lt(0),\n        length,\n        filter(propEq('password', password)),\n        filter(propEq('username', username))\n    )(valid_users)\n\n    render() {\n        return (\n            <div>\n\n                <center>\n                    <section className=\"overlay\">\n                        <h1 id=\"first\">Sign In</h1>\n                        <label>\n                            <input type=\"text\" required onChange={(e) => { this.setState({ username: e.target.value }) }} />\n                            <div class=\"label-text\">Username</div>\n                        </label>\n                        <label>\n                            <input type={this.state.view} required onChange={(e) => { this.setState({ password: e.target.value }) }} />\n                            <div class=\"label-text\">Password</div>\n                        </label>\n                        <img id=\"fontlc\" src=\"https://cdn2.iconfinder.com/data/icons/flaticons-solid/18/eye-1-512.png\" alt=\"Show Password\" width=\"50\" onClick={this.show} />\n                        <br />\n                        <button onClick={() => this.login(this.state.username, this.state.password)}>Submit</button>\n                    </section>\n                </center>\n            </div>\n        )\n    }\n}\n\nexport default App;\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}